/*
*     Browser Windows credit: adapted from bourbon refills
*/


.browsers {
  $base-border-radius: 3px !default;
  $base-background-color: white !default;
  $large-screen: em(860) !default;
  $browser-top-bar-height: 1.5em;
  $browser-circle-size: 0.5em;
  $browser-circle-margin: ($browser-top-bar-height - $browser-circle-size) / 2;
  $browser-top-bar-background: lighten(#DFDFDF, 5);
  $browser-border: 0px;
  $browser-background: $base-background-color;
  $browser-content-background-1: #F0F0F0;
  $browser-content-background-2: $base-background-color;
  $browser-content-background-3: #F0F0F0;
  $browser-circle-full-screen: #51B151;
  $browser-circle-minimize: #F5B01D;
  $browser-circle-close: #FF6F55;
  display: inline-block;
  padding-top: 0;
  text-align: center;
  width: 100%;
  @include breakpoint($sm) {
    margin-bottom: 3em;
  }

  @include media($large-screen) {
    padding-top: 4em;
  }

  .browser-top-bar {
    @include linear-gradient($browser-top-bar-background, darken($browser-top-bar-background, 2));
    border-top-left-radius: $base-border-radius;
    border-top-right-radius: $base-border-radius;
    border: $browser-border;
    box-shadow: inset 0 1px 0 transparentize(white, 0.6);
    height: $browser-top-bar-height;
    width: 100%;
  }
  .browser-circle {
    @include size($browser-circle-size);
    border-radius: $browser-circle-size * 2;
    box-shadow: 0 1px 0px transparentize(white, 0.5), inset 0 1px 1px transparentize(black, 0.8);
    display: inline-block;
    margin: $browser-circle-margin 0;
  }
  .browser-circle:nth-child(1) {
    background: $browser-circle-close;
    margin-left: $browser-circle-margin;
  }
  .browser-circle:nth-child(2) {
    background: $browser-circle-minimize;
    margin-left: $browser-circle-margin / 3;
  }
  .browser-circle:nth-child(3) {
    background: $browser-circle-full-screen;
    margin-left: $browser-circle-margin / 3;
  }
  .browser {
    border-bottom: none;
    border-top-left-radius: $base-border-radius;
    border-top-right-radius: $base-border-radius;
    box-shadow: 0 3px 5px transparentize(black, 0.7);
    display: inline-block;
    text-align: left;
    width: 20%;
    transform: scale(1);
    background-color: white;
    width: 90%;
    @include media($large-screen) {
      transform: scale(1.2);
      width: 75%;
    }
  }
}

/*
*     Top Navigation: Adapted from Bourbon Refills
*/

.left-navigation {
  $base-border-radius: 3px !default;
  $dark-gray: #333 !default;
  $large-screen: em(860) !default;
  $base-font-color: $dark-gray !default;
  $left-navigation-padding: 1em;
  $left-navigation-background: transparentize(white, 0.2);
  $left-navigation-color: $gray-light;
  $left-navigation-color-hover: $base-font-color;
  $left-navigation-height: 60px;
  $left-navigation-item-padding: 1em;
  $left-navigation-submenu-padding: 1em;
  $left-navigation-item-nudge: 2.2em;
  $horizontal-bar-mode: $large-screen;
  /* Space out content a bit */
  background-color: $left-navigation-background;
  min-height: $left-navigation-height;
  width: 100%;
  z-index: 9999;
  position: fixed;
  top: 0;
  // margin-left: -15px;
  transition: top 0.3s ease-in;
  &.nav-up {
    top: -$left-navigation-height;
  }
  &.nav-down {
    top: 0 !important;
  }
  // Nav menu
  .left-navigation-wrapper {
    @include clearfix;
    position: relative;
    z-index: 999;
  }
  ul.left-navigation-menu {
    -webkit-transform-style: preserve-3d;
    // stop webkit flicker
    clear: both;
    display: none;
    margin: 0 auto;
    overflow: visible;
    padding: 0;
    width: 100%;
    z-index: 99999;
    &.show {
      display: block;
    }
  }
  ul li.nav-link {
    background: $left-navigation-background;
    display: block;
    line-height: $left-navigation-height;
    overflow: hidden;
    padding-right: $left-navigation-submenu-padding;
    text-align: right;
    width: 100%;
    z-index: 9999;
    a {
      color: $left-navigation-color;
      display: inline-block;
      outline: none;
      text-decoration: none;
      &:focus, &:hover {
        color: $gray;
      }
    }
  }
  ul.left-navigation-menu {
    display: block;
  }
  // The nav items
  .nav-link:first-child {
    margin-left: $left-navigation-item-nudge;
  }
  ul li.nav-link {
    background: transparent;
    display: inline;
    line-height: $left-navigation-height;
    a {
      padding-right: $left-navigation-item-padding;
    }
  }
}
